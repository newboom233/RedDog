# LCU Monitor - 英雄联盟对战信息监控

一个现代化的基于 tkinter 的英雄联盟客户端对战信息监控工具，具有清晰的架构和美观的界面。

## 功能特性

### ✅ 已实现功能

1. **数据与显示解耦** - 采用 MVC 架构设计
2. **定时获取客户端状态** - 每3秒自动更新游戏数据
3. **现代化主界面** - 美观的卡片式布局，深色主题
4. **英雄选择监控** - 显示对战双方的英雄、召唤师技能和符文
5. **半透明悬浮窗** - 无边框设计，支持拖拽
6. **快捷键支持** - Ctrl+Shift+O 呼出/隐藏悬浮窗
7. **点击复制功能** - 点击召唤师技能复制对应信息
8. **实时冷却计算** - 显示召唤师技能下次可用的准确时间

### 🎨 界面设计

- **主窗口**: 标签页式设计，支持英雄选择和设置
- **悬浮窗**: 半透明无边框，可自由拖拽位置
- **响应式布局**: 自适应窗口大小调整
- **现代化配色**: 深色主题，符合现代审美

## 安装与运行

### 系统要求

- Python 3.7+
- Windows 系统（推荐）
- 英雄联盟客户端运行中

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行应用

```bash
python main.py
```

### 可选依赖

对于更好的体验，建议安装以下可选依赖：

```bash
# Windows 特效支持
pip install pywin32 pywinstyles

# 键盘快捷键支持
pip install keyboard
```

## 使用方法

### 主界面操作

1. **启动应用**: 运行 `main.py` 后，主界面会自动打开
2. **查看信息**: 在"英雄选择"标签页查看当前对战信息
3. **手动刷新**: 点击顶部"刷新"按钮手动更新数据
4. **调整设置**: 在"设置"标签页调整更新间隔等参数

### 悬浮窗操作

1. **呼出悬浮窗**: 按 `Ctrl+Shift+O` 快捷键
2. **移动位置**: 点击并拖拽窗口到任意位置
3. **隐藏悬浮窗**: 再次按 `Ctrl+Shift+O` 或点击关闭按钮
4. **复制信息**: 点击任意召唤师技能图标复制详细信息

### 复制格式示例

点击召唤师技能后，复制的信息格式如下：

```
召唤师: 玩家名字
英雄: 亚索
技能: 闪现 (CD: 300s)
冷却完成: 14:32:15
符文: 征服者, 凯旋, 欢欣, 坚毅不倒
```

## 项目结构

```
LCU-Monitor/
├── main.py                 # 主程序入口
├── requirements.txt        # 依赖列表
├── README.md              # 项目说明
├── src/
│   ├── __init__.py        # 包初始化
│   ├── lcu_client.py      # LCU API客户端
│   ├── data_manager.py    # 数据管理器
│   ├── main_window.py     # 主窗口界面
│   ├── overlay_window.py  # 悬浮窗界面
│   └── hotkey_manager.py  # 快捷键管理
```

## 技术架构

### 数据流

```
LCU Client → LCUClient → DataManager → UI Components
                     ↓
              Hotkey Manager → Overlay Window
```

### 组件职责

- **LCUClient**: 与英雄联盟客户端通信
- **DataManager**: 数据缓存、处理和分发
- **MainWindow**: 主界面展示和交互
- **OverlayWindow**: 悬浮窗展示
- **HotkeyManager**: 全局快捷键监听

## 开发说明

### 添加新功能

1. **扩展数据采集**: 在 `lcu_client.py` 中添加新的 API 端点
2. **新增 UI 组件**: 在相应窗口类中添加新的展示逻辑
3. **添加快捷键**: 在 `hotkey_manager.py` 中注册新的快捷键

### 样式定制

所有界面样式都集中管理，可以在各自文件中修改颜色配置：

```python
# 在 main_window.py 或 overlay_window.py 中修改
self.colors = {
    'bg': '#1e1e2e',
    'primary': '#89b4fa',
    # ... 其他颜色
}
```

## 故障排除

### 常见问题

1. **无法连接客户端**
   - 确保英雄联盟客户端正在运行
   - 检查是否有多个客户端实例

2. **快捷键无效**
   - 确保以管理员权限运行
   - 检查是否有其他应用占用了快捷键

3. **悬浮窗不显示**
   - 检查是否被其他窗口遮挡
   - 尝试重启应用

### 调试模式

运行应用时添加调试输出：

```bash
python main.py --debug
```

## 未来计划

- [ ] 支持自定义快捷键
- [ ] 添加更多召唤师技能信息
- [ ] 实时对战数据分析
- [ ] 导出对战记录
- [ ] 多语言支持

## 许可证

MIT License - 详见 LICENSE 文件

## 贡献

欢迎提交 Issue 和 Pull Request！

## 联系方式

如有问题或建议，请通过 GitHub Issues 联系。